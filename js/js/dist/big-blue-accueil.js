/**
* @source: https://github.com/BigBlueArms/BigBlueSite
*
* @licstart  The following is the entire license notice for the
*  JavaScript code in this page.
*
* Copyright © 2018 Léo Demicheli
* This work is free. You can redistribute it and/or modify it under the
* terms of the Do What The Fuck You Want To Public License, Version 2,
* as published by Sam Hocevar. See http://www.wtfpl.net/ for more details.
*
* @licend  The above is the entire license notice
* for the JavaScript code in this page.
*/
"use strict";function bigblueload(){document.getElementById("masthead").style.display="none";var e,a,p,h,l,f,n,s=1155/837,o=document.getElementById("logo-container"),g=[],y=null,i=[];function t(){var t=window.innerWidth,n=window.innerHeight,i=(f=Math.min(1e3,.5*t))/s;.5*n<i&&(f=(i=.5*n)*s),[e,a,l].forEach(function(e){e.width=f,e.height=i,e.style.left=t/2-f/2+"px",e.style.top=n/2-i/2+"px"})}function c(){var e=window.innerWidth,t=window.innerHeight,n=.3*f,i=.13*f,a=.08*f,l=.08*f;p.style.height=i+"px",p.style.width=n+"px",h.style.height=l+"px",h.style.width=a+"px";var s=e/2+.17*f,o=t/2-.08*f;if(p.style.left=s-n/2+"px",p.style.top=o-i/2+"px",h.style.left=s-a/2+"px",h.style.top=o-l/2+"px",y){var c=y.target.getBoundingClientRect(),d=c.x-s,r=c.y-o,u=1*Math.sqrt(d*d+r*r),g=Math.atan2(r,d),m=.1*n,b=(u-a)/(n-m);p.style.transformOrigin="".concat(m,"px center"),p.style.transform="translate(".concat(n/2-m,"px,0px) rotate(").concat(g,"rad) scaleX(").concat(b,")"),h.style.transformOrigin="center center",h.style.transform="rotate(".concat(g,"rad) translate(").concat(u-l/2,"px,0px) rotate(90deg)")}}function d(){var o=window.innerWidth,c=window.innerHeight,d=.65*f,r=2*Math.PI/i.length,u=0;function e(){g.forEach(function(e){var t=Math.round(1.2*d*Math.sin(u*r)+o/2),n=Math.round(.78*-d*Math.cos(u*r)+c/2),i=e.offsetHeight/2,a=e.offsetWidth/2,l=Math.round((1.1*d-a)*Math.sin(u*r)+o/2),s=Math.round((.74*-d+i)*Math.cos(u*r)+c/2);e.data.left=t,e.data.top=n,e.data.minLeft=l,e.data.minTop=s,e.style.left="".concat(t-e.offsetWidth/2,"px"),e.style.top="".concat(n-e.offsetHeight/2,"px"),e.style.visibility="visible",u++})}document.fonts.check("25px Poor Story")?e():document.fonts.ready.then(function(){e()})}(e=document.createElement("img")).src=BigBlueApp.assetsUrl+"/images/logo-no-arms.png",e.classList.add("bigblue-logo"),(a=document.createElement("img")).src=BigBlueApp.assetsUrl+"/images/arm.png",a.classList.add("bigblue-logo"),(l=document.createElement("img")).src=BigBlueApp.assetsUrl+"/images/shoulder.png",l.classList.add("bigblue-shoulder"),o.appendChild(e),o.appendChild(a),o.appendChild(l),(p=document.createElement("img")).src=BigBlueApp.assetsUrl+"/images/arm-part.png",p.classList.add("bigblue-logo"),p.style.visibility="hidden",p.style.zIndex=9,o.appendChild(p),(h=document.createElement("img")).src=BigBlueApp.assetsUrl+"/images/fist.png",h.classList.add("bigblue-logo"),h.style.visibility="hidden",h.style.zIndex=10,o.appendChild(h),n=[{name:"Welcome !",font:"Big John",bubble:"acceuil-welcome.png"},{name:"Big Blue Songs",bubble:"acceuil-big-blue-songs.png"},{name:"Big Blue Science",font:"Pica",bubble:"acceuil-welcome.png"},{name:"News",bubble:"acceuil-big-blue-science.png"},{name:"Big Blue Fingers",bubble:"acceuil-big-blue-science.png"},{name:"L'équipe",bubble:"acceuil-big-blue-songs.png"}],document.getElementById("menu-main-menu").childNodes.forEach(function(e){if(e.childNodes.length){var t=e.childNodes[0];i.push({text:t.attributes.title.value,url:t.attributes.href.value})}}),i.forEach(function(i){var a=document.createElement("div");a.onclick=function(){document.location.href=i.url},a.style.visibility="hidden",a.classList.add("bigblue-menu");var e=document.createElement("div");e.classList.add("bba-menu-text"),e.innerHTML=i.text,a.appendChild(e),n.some(function(e){if(e.name!==i.text)return console.log("svg name",e.name),console.log("text",i.text),!1;var t=document.createElement("div");t.classList.add("bba-menu-bg");var n=document.createElement("img");return n.src="".concat(BigBlueApp.assetsUrl,"/images/").concat(e.bubble),n.style.width="100%",n.style.height="100%",t.appendChild(n),e.font&&(a.style.fontFamily=e.font),i.bubble=t,a.appendChild(t),!0});var t=document.createElement("img");t.src=BigBlueApp.assetsUrl+"/images/target.svg",t.classList.add("bba-target"),a.appendChild(t),o.appendChild(a),a.data=i,a.data.target=t,g.push(a)}),g.forEach(function(t){t.addEventListener("mouseover",function(){setTimeout(function(){t.data.bubble.style.transform="scale(1)",t.data.target.style.transform="scale(0.01)"},100),g.forEach(function(e){e!==t&&e.data.bubble&&(e.data.bubble.style.transform="scale(0.01)",e.data.target.style.transform="scale(1)")}),y=t.data,a.style.visibility="hidden",t.data.bubble,c(),p.style.visibility="visible",h.style.visibility="visible"})}),t(),c(),setTimeout(function(){t()},50),setTimeout(function(){t(),d(),c()},500),window.onresize=function(){t(),d(),c()}}bigblueload();