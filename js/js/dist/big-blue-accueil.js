/**
* @source: https://github.com/BigBlueArms/BigBlueSite
*
* @licstart  The following is the entire license notice for the
*  JavaScript code in this page.
*
* Copyright © 2018 Léo Demicheli
* This work is free. You can redistribute it and/or modify it under the
* terms of the Do What The Fuck You Want To Public License, Version 2,
* as published by Sam Hocevar. See http://www.wtfpl.net/ for more details.
*
* @licend  The above is the entire license notice
* for the JavaScript code in this page.
*/
"use strict";function bigblueload(){document.getElementById("masthead").style.display="none";var e,a,f,y,s,v,i,l=1155/837,o=document.getElementById("logo-container"),g=[],x=null,n=[];function t(){var t=window.innerWidth,i=window.innerHeight,n=(v=Math.min(1e3,.5*t))/l;.5*i<n&&(v=(n=.5*i)*l),[e,a,s].forEach(function(e){e.width=v,e.height=n,e.style.left=t/2-v/2+"px",e.style.top=i/2-n/2+"px"})}function c(){var e=window.innerWidth,t=window.innerHeight,i=.3*v,n=.13*v,a=.08*v,s=.08*v,l=.01*v,o=.01*-v;f.style.height=n+"px",f.style.width=i+"px",y.style.height=s+"px",y.style.width=a+"px";var c=e/2+.19*v,d=t/2-.08*v;if(f.style.left=c-i/2+"px",f.style.top=d-n/2+"px",y.style.left=c-a/2+"px",y.style.top=d-s/2+"px",x){var r=x.target.getBoundingClientRect(),u=r.x-c,g=r.y-d,b=1*Math.sqrt(u*u+g*g),m=Math.atan2(g,u),h=.06*i,p=(b-a)/(i-h);f.style.transformOrigin="".concat(h,"px center"),f.style.transform="translate(".concat(i/2-h,"px,0px) rotate(").concat(m,"rad) scaleX(").concat(p,")"),y.style.transformOrigin="center center",y.style.transform="rotate(".concat(m,"rad) translate(").concat(o+b-s/2,"px,").concat(l,"px) rotate(90deg)")}}function d(){var o=window.innerWidth,c=window.innerHeight,d=.65*v,r=2*Math.PI/n.length,u=0;function e(){g.forEach(function(e){var t=Math.round(1.2*d*Math.sin(u*r)+o/2),i=Math.round(.78*-d*Math.cos(u*r)+c/2),n=e.offsetHeight/2,a=e.offsetWidth/2,s=Math.round((1.1*d-a)*Math.sin(u*r)+o/2),l=Math.round((.74*-d+n)*Math.cos(u*r)+c/2);e.data.left=t,e.data.top=i,e.data.minLeft=s,e.data.minTop=l,e.style.left="".concat(t-e.offsetWidth/2,"px"),e.style.top="".concat(i-e.offsetHeight/2,"px"),e.style.visibility="visible",u++})}document.fonts.check("25px Poor Story")?e():document.fonts.ready.then(function(){e()})}(e=document.createElement("img")).src=BigBlueApp.assetsUrl+"/images/logo-no-arms.svg",e.classList.add("bigblue-logo"),(a=document.createElement("img")).src=BigBlueApp.assetsUrl+"/images/arm.svg",a.classList.add("bigblue-logo"),(s=document.createElement("img")).src=BigBlueApp.assetsUrl+"/images/shoulder.svg",s.classList.add("bigblue-shoulder"),s.style.visibility="hidden",o.appendChild(e),o.appendChild(a),o.appendChild(s),(f=document.createElement("img")).src=BigBlueApp.assetsUrl+"/images/arm-part.svg",f.classList.add("bigblue-logo"),f.style.visibility="hidden",f.style.zIndex=9,o.appendChild(f),(y=document.createElement("img")).src=BigBlueApp.assetsUrl+"/images/fist.svg",y.classList.add("bigblue-logo"),y.style.visibility="hidden",y.style.zIndex=10,o.appendChild(y),i=[{name:"Welcome !",font:"Big John",bubble:"acceuil-welcome.png"},{name:"Big Blue Songs",bubble:"acceuil-big-blue-songs.png"},{name:"Big Blue Science",font:"Pica",bubble:"acceuil-welcome.png"},{name:"News",bubble:"acceuil-big-blue-science.png"},{name:"Big Blue Fingers",bubble:"acceuil-big-blue-science.png"},{name:"L'équipe",bubble:"acceuil-big-blue-songs.png"}],document.getElementById("menu-main-menu").childNodes.forEach(function(e){if(e.childNodes.length){var t=e.childNodes[0];n.push({text:t.attributes.title.value,url:t.attributes.href.value})}}),n.forEach(function(n){var a=document.createElement("div");a.onclick=function(){document.location.href=n.url},a.style.visibility="hidden",a.classList.add("bigblue-menu");var e=document.createElement("div");e.classList.add("bba-menu-text"),e.innerHTML=n.text,a.appendChild(e),i.some(function(e){if(e.name!==n.text)return console.log("svg name",e.name),console.log("text",n.text),!1;var t=document.createElement("div");t.classList.add("bba-menu-bg");var i=document.createElement("img");return i.src="".concat(BigBlueApp.assetsUrl,"/images/").concat(e.bubble),i.style.width="100%",i.style.height="100%",t.appendChild(i),e.font&&(a.style.fontFamily=e.font),n.bubble=t,a.appendChild(t),!0});var t=document.createElement("img");t.src=BigBlueApp.assetsUrl+"/images/target.svg",t.classList.add("bba-target"),a.appendChild(t),o.appendChild(a),a.data=n,a.data.target=t,g.push(a)}),g.forEach(function(t){t.addEventListener("mouseover",function(){setTimeout(function(){t.data.bubble.style.transform="scale(1)",t.data.target.style.transform="scale(0.01)"},100),g.forEach(function(e){e!==t&&e.data.bubble&&(e.data.bubble.style.transform="scale(0.01)",e.data.target.style.transform="scale(1)")}),x=t.data,a.style.visibility="hidden",s.style.visibility="visible",t.data.bubble,c(),f.style.visibility="visible",y.style.visibility="visible"})}),t(),c(),setTimeout(function(){t()},50),setTimeout(function(){t(),d(),c()},500),window.onresize=function(){t(),d(),c()}}bigblueload();